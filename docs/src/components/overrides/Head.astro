---
import type { Props } from '@astrojs/starlight/props';
import { default as AstroHead } from '@astrojs/starlight/components/Head.astro';
import Turbo from "../Turbo.astro"
import Docs from "../Docs.astro"
import Search from "../Search.astro"

import '../../styles/global.css'
import '../../styles/syntax-highlight.css'
import '../../styles/code-previews.css'
import { customElementsManifest } from '../../js/cem';

const version = customElementsManifest().package.version
---


<script>
  import "../../../../dist/webawesome.js"
  import "../../js/code-previews.js"
  import "../../js/theme.js"
</script>

<style is:inline>
  /* Override starlight selector for auto injecting margin since it causes a lot of issues. */
  body .sl-markdown-content :not(a, strong, em, del, span, input, code, h1, h2, h3, h4, h5, h6) + :not(a, strong, em, del, span, input, code, h1, h2, h3, h4, h5, h6, :where(.not-content *)) {
    margin-top: 0;
  }

  /** Applied styles overrides for docs. */
  body details {
    background-color: transparent;
    margin-block-end: 0;
  }

  body details summary::before {
    display: none;
  }
</style>

<>
  <Turbo />
  <Docs />
  {/* <Search /> */}

  <meta name="wa-version" content={version} />

  <link id="theme-stylesheet" rel="stylesheet" href="/dist/themes/default.css" />

  <link rel="stylesheet" href="/dist/themes/applied.css" />
  <link rel="stylesheet" href="/dist/themes/forms.css" />

  <AstroHead {...Astro.props}>
    <slot />
  </AstroHead>
</>
