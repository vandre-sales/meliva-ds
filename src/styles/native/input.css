.wa-text-field,
:host,
input:not(
    /* Exclude inputs that don't accept text */
    [type='button'],
    [type='checkbox'],
    [type='color'],
    [type='file'],
    [type='hidden'],
    [type='image'],
    [type='radio'],
    [type='range'],
    [type='reset'],
    [type='submit']
  ) {
  /* Style native inputs and <wa-input>'s visible container */
  &:where(:not(.wa-text-field *, :host input)) {
    /* Do NOT reset --background-color and --border-color here so they trickle in from the appearance utils
     * Instead we provide the fallback when setting
     */
    --border-width: var(--wa-form-control-border-width);
    --box-shadow: initial;

    border-color: var(--border-color, var(--wa-form-control-resting-color));
    border-radius: var(--wa-form-control-border-radius);
    border-style: var(--wa-form-control-border-style);
    cursor: text;
    color: var(--wa-form-control-value-color);
    font-size: var(--wa-size);
    font-family: inherit;
    line-height: var(--wa-form-control-value-line-height);
    vertical-align: middle;
    width: 100%;
    transition:
      background-color var(--wa-transition-normal),
      border var(--wa-transition-normal),
      outline var(--wa-transition-fast);
    transition-timing-function: var(--wa-transition-easing);
  }

  /* Style text controls of inputs, including within <wa-input> */
  &:not(:host, input:where(.wa-text-field *)) {
    background-color: var(--background-color, var(--wa-form-control-background-color));
    border-width: var(--border-width);
    box-shadow: var(--box-shadow);
    padding: 0 var(--wa-space);
    height: var(--wa-form-control-height);

    /* Style focused inputs */
    &:focus-within {
      outline: var(--wa-focus-ring);
      outline-offset: var(--wa-focus-ring-offset);
    }

    /* Style disabled inputs */
    &:has(:disabled:only-child),
    &:disabled {
      cursor: not-allowed;
      opacity: 0.5;
    }
  }

  &:where(input) {
    /* Actual inputs */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      box-shadow: none;
      caret-color: var(--wa-form-control-value-color);
    }

    &::placeholder {
      color: var(--wa-form-control-placeholder-color);
      user-select: none;
      -webkit-user-select: none;
    }
  }
}

.wa-text-field input {
  padding: 0;
  border: none;
  outline: none;
  box-shadow: none;
  padding: 0;
  margin: 0;
  cursor: inherit;
  -webkit-appearance: none;
  font: inherit;
}

.wa-pill,
:host([pill]) {
  border-radius: var(--wa-border-radius-pill);
}
